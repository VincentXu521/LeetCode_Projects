Step1: get issue via url: https://api.github.com/repos/grandyang/leetcode/issues/139 
 title:[LeetCode] 139. Word Break 
 body:  
 Â 

Given aÂ non-emptyÂ stringÂ  _s_ Â and a dictionaryÂ  _wordDict_ Â containing a list ofÂ non-emptyÂ words, determine ifÂ  _s_ Â can be segmented into a space-separated sequence of one or more dictionary words.

Note:

  * The same word in the dictionary may be reused multiple times in the segmentation.
  * You may assume the dictionary does not contain duplicate words.



Example 1:
    
    
    Input: s = "leetcode", wordDict = ["leet", "code"]
    Output: true
    Explanation: Return true because "leetcode" can be segmented as "leet code".
    

Example 2:
    
    
    Input: s = "applepenapple", wordDict = ["apple", "pen"]
    Output: true
    Explanation: Return true because "applepenapple" can be segmented as "apple pen apple".
    Â             Note that you are allowed to reuse a dictionary word.
    

Example 3:
    
    
    Input: s = "catsandog", wordDict = ["cats", "dog", "sand", "and", "cat"]
    Output: false

Â 

è¿™é“æ‹†åˆ†è¯å¥é—®é¢˜æ˜¯çœ‹ç»™å®šçš„è¯å¥èƒ½åˆ†è¢«æ‹†åˆ†æˆå­—å…¸é‡Œé¢çš„å†…å®¹ï¼Œè¿™æ˜¯ä¸€é“å¾ˆç»å…¸çš„é¢˜ç›®ï¼Œè§£æ³•ä¸æ­¢ä¸€ç§ï¼Œè€ƒå¯Ÿçš„èŒƒå›´å¾ˆå¹¿ï¼Œå±äºæˆ‘ä»¬å¿…é¡»è¦ç†Ÿç»ƒæŒæ¡çš„é¢˜ç›®ã€‚é‚£ä¹ˆå…ˆæ¥æƒ³ brute force çš„è§£æ³•ï¼Œå°±æ‹¿ä¾‹å­1æ¥åˆ†æï¼Œå¦‚æœå­—å…¸ä¸­åªæœ‰ä¸¤ä¸ªå•è¯ï¼Œæˆ‘ä»¬æ€ä¹ˆå»åˆ¤æ–­ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥å°†åŸå­—ç¬¦ä¸²såˆ†æˆä»»æ„ä¸¤æ®µï¼Œç„¶åå†çœ‹åˆ†æˆçš„å•è¯æ˜¯å¦åœ¨å­—å…¸ä¸­ã€‚æ³¨æ„è¿™é“é¢˜è¯´æ˜¯å•è¯å¯ä»¥é‡å¤ä½¿ç”¨ï¼Œæ‰€ä»¥å¯ä»¥åˆ†æˆä»»æ„æ®µï¼Œè€Œä¸”å­—å…¸ä¸­çš„å•è¯å¯ä»¥æœ‰å¾ˆå¤šä¸ªï¼Œè¿™å°±å¢åŠ äº†é¢˜ç›®çš„éš¾åº¦ï¼Œå¾ˆå¤šç«¥é‹å°±åœ¨è¿™é‡Œè¿·å¤±äº†ï¼Œæ¯«æ— å¤´ç»ªã€‚é‚£ä¹ˆï¼Œå°±ç”±åšä¸»æ¥ç»™å„ä½æŒ‡ç‚¹è¿·æ´¥å§ï¼ˆæ­¤å¤„åº”æœ‰æŒå£°ğŸ‘ï¼‰ã€‚

æ—¢ç„¶è¦åˆ†æ®µï¼Œçœ‹å­å­—ç¬¦ä¸²æ˜¯å¦åœ¨å­—å…¸ä¸­ï¼Œç”±äºç»™å®šçš„å­—å…¸æ˜¯æ•°ç»„ï¼ˆä¹‹å‰è¿˜æ˜¯ HashSet å‘¢ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬è‚¯å®šä¸å¸Œæœ›æ¯æ¬¡æŸ¥æ‰¾éƒ½éœ€è¦éå†ä¸€éæ•°ç»„ï¼Œè´¹åŠ²ï¼è¿˜æ˜¯æŠŠå­—å…¸ä¸­çš„æ‰€æœ‰å•è¯éƒ½å­˜å…¥ HashSet ä¸­å§ï¼Œè¿™æ ·æˆ‘ä»¬å°±æœ‰äº†å¸¸æ•°æ—¶é—´çº§çš„æŸ¥æ‰¾é€Ÿåº¦ï¼Œperfectï¼å¥½ï¼Œæˆ‘ä»¬å¾—å¼€å§‹ç»™å­—ç¬¦ä¸²åˆ†æ®µäº†ï¼Œæ€ä¹ˆåˆ†ï¼Œåªèƒ½ä¸€ä¸ªä¸€ä¸ªåˆ†äº†ï¼Œå…ˆçœ‹ç¬¬ä¸€ä¸ªå­—æ¯æ˜¯å¦åœ¨å­—å…¸ä¸­ï¼Œå¦‚æœä¸åœ¨çš„è¯ï¼Œå¥½åŠï¼Œè¯´æ˜è¿™ç§åˆ†æ³•è‚¯å®šæ˜¯é”™çš„ã€‚é—®é¢˜æ˜¯åœ¨çš„è¯ï¼Œåé¢çš„é‚£éƒ¨åˆ†æ€ä¹ˆå¤„ç†ï¼Œéš¾é“è¿˜ç”¨ for å¾ªç¯ï¼Ÿå’±ä¹Ÿä¸çŸ¥é“è¿˜è¦åˆ†å¤šå°‘æ®µï¼Œæ€ä¹ˆç”¨ for å¾ªç¯ã€‚å¯¹äºè¿™ç§ä¸çŸ¥é“æ€ä¹ˆå¤„ç†çš„æƒ…å†µï¼Œä¸€ä¸ªä¸‡èƒ½çš„åšæ³•æ˜¯ä¸¢ç»™é€’å½’å‡½æ•°ï¼Œè®©å…¶å»é€’å½’æ±‚è§£ï¼Œè¿™é‡Œæˆ‘ä»¬ suppose é€’å½’å‡½æ•°ä¼šè¿”å›æˆ‘ä»¬ä¸€ä¸ªæ­£ç¡®çš„å€¼ï¼Œå¦‚æœè¿”å›çš„æ˜¯ true çš„è¯ï¼Œè¡¨æ˜æˆ‘ä»¬ç°åœ¨åˆ†æˆçš„ä¸¤æ®µéƒ½åœ¨å­—å…¸ä¸­ï¼Œæˆ‘ä»¬ç›´æ¥è¿”å› true å³å¯ï¼Œå› ä¸ºåªè¦æ‰¾å‡ºä¸€ç§æƒ…å†µå°±è¡Œäº†ã€‚è¿™ç§è°ƒç”¨é€’å½’å‡½æ•°çš„æ–¹æ³•å°±æ˜¯ brute force çš„è§£æ³•ï¼Œæˆ‘ä»¬éå†äº†æ‰€æœ‰çš„æƒ…å†µï¼Œä¼˜ç‚¹æ˜¯å†™æ³•ç®€æ´ï¼Œæ€è·¯æ¸…æ™°ï¼Œç¼ºç‚¹æ˜¯å­˜åœ¨å¤§é‡çš„é‡å¤è®¡ç®—ï¼Œè¢« OJ å•ªå•ªæ‰“è„¸ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦è¿›è¡Œä¼˜åŒ–ï¼Œä½¿ç”¨è®°å¿†æ•°ç»„ memo æ¥ä¿å­˜æ‰€æœ‰å·²ç»è®¡ç®—è¿‡çš„ç»“æœï¼Œå†ä¸‹æ¬¡é‡åˆ°çš„æ—¶å€™ï¼Œç›´æ¥ä» cache ä¸­å–ï¼Œè€Œä¸æ˜¯å†æ¬¡è®¡ç®—ä¸€éã€‚è¿™ç§ä½¿ç”¨è®°å¿†æ•°ç»„ memo çš„é€’å½’å†™æ³•ï¼Œå’Œä½¿ç”¨ dp æ•°ç»„çš„è¿­ä»£å†™æ³•ï¼Œä¹ƒè§£é¢˜çš„ä¸¤å¤§ç¥å™¨ï¼Œå‡¡äº‹èƒ½ç”¨ dp è§£çš„é¢˜ï¼Œä¸€èˆ¬ä¹Ÿæœ‰ç”¨è®°å¿†æ•°ç»„çš„é€’å½’è§£æ³•ï¼Œå¥½ä¼¼ä¸€å¯¹å½¢å½±ä¸ç¦»çš„å¥½åŸºå‹ï½å…³äº dp è§£æ³•ï¼Œåšä¸»ä¼šåœ¨ä¸‹æ–‡ä¸­è®²è§£ã€‚è¿™é‡Œæˆ‘ä»¬çš„è®°å¿†æ•°ç»„ memo[i] å®šä¹‰ä¸ºèŒƒå›´ä¸º [i, n] çš„å­å­—ç¬¦ä¸²æ˜¯å¦å¯ä»¥æ‹†åˆ†ï¼Œåˆå§‹åŒ–ä¸º -1ï¼Œè¡¨ç¤ºæ²¡æœ‰è®¡ç®—è¿‡ï¼Œå¦‚æœå¯ä»¥æ‹†åˆ†ï¼Œåˆ™èµ‹å€¼ä¸º1ï¼Œåä¹‹ä¸º0ã€‚åœ¨ä¹‹å‰è®² brute force è§£æ³•æ—¶ï¼Œåšä¸»æåˆ°çš„æ˜¯è®²åˆ†æˆä¸¤æ®µçš„ååŠæ®µçš„è°ƒç”¨é€’å½’å‡½æ•°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸å–å‡ºå­å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯ç”¨ä¸€ä¸ª start å˜é‡ï¼Œæ¥æ ‡è®°åˆ†æ®µçš„ä½ç½®ï¼Œè¿™æ ·é€’å½’å‡½æ•°ä¸­åªéœ€è¦ä» start çš„ä½ç½®å¾€åéå†å³å¯ï¼Œåœ¨é€’å½’å‡½æ•°æ›´æ–°è®°å¿†æ•°ç»„ memo å³å¯ï¼Œå‚è§ä»£ç å¦‚ä¸‹ï¼š

Â 

è§£æ³•ä¸€ï¼š
    
    
    class Solution {
    public:
        bool wordBreak(string s, vector<string>& wordDict) {
            unordered_set<string> wordSet(wordDict.begin(), wordDict.end());
            vector<int> memo(s.size(), -1);
            return check(s, wordSet, 0, memo);
        }
        bool check(string s, unordered_set<string>& wordSet, int start, vector<int>& memo) {
            if (start >= s.size()) return true;
            if (memo[start] != -1) return memo[start];
            for (int i = start + 1; i <= s.size(); ++i) {
                if (wordSet.count(s.substr(start, i - start)) && check(s, wordSet, i, memo)) {
                    return memo[start] = 1;
                }
            }
            return memo[start] = 0;
        }
    };

Â 

è¿™é“é¢˜å…¶å®è¿˜æ˜¯ä¸€é“ç»å…¸çš„ DP é¢˜ç›®ï¼Œä¹Ÿå°±æ˜¯åŠ¨æ€è§„åˆ’ Dynamic Programmingã€‚åšä¸»æ›¾ç»è¯´ç©å­æ•°ç»„æˆ–è€…å­å­—ç¬¦ä¸²ä¸”æ±‚æå€¼çš„é¢˜ï¼ŒåŸºæœ¬å°±æ˜¯ DP æ²¡å·®äº†ï¼Œè™½ç„¶è¿™é“é¢˜æ²¡æœ‰æ±‚æå€¼ï¼Œä½†æ˜¯ç©å­å­—ç¬¦ä¸²ä¹Ÿç¬¦åˆ DP çš„çŠ¶æ€è½¬ç§»çš„ç‰¹ç‚¹ã€‚æŠŠä¸€ä¸ªäººçš„æ¸©æš–è½¬ç§»åˆ°å¦ä¸€ä¸ªäººçš„èƒ¸è†›... å’³å’³ï¼Œè·‘é”™ç‰‡åœºäº†ï¼Œé‚£æ˜¯çˆ±æƒ…è½¬ç§»ï½ å¼ºè¡Œæ‹‰å›ï¼ŒDP è§£æ³•çš„ä¸¤å¤§éš¾ç‚¹ï¼Œå®šä¹‰ dp æ•°ç»„è·Ÿæ‰¾å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå…ˆæ¥çœ‹ dp æ•°ç»„çš„å®šä¹‰ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ç”¨ä¸€ä¸ªä¸€ç»´çš„ dp æ•°ç»„ï¼Œå…¶ä¸­ dp[i] è¡¨ç¤ºèŒƒå›´ [0, i) å†…çš„å­ä¸²æ˜¯å¦å¯ä»¥æ‹†åˆ†ï¼Œæ³¨æ„è¿™é‡Œ dp æ•°ç»„çš„é•¿åº¦æ¯”sä¸²çš„é•¿åº¦å¤§1ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬è¦ handle ç©ºä¸²çš„æƒ…å†µï¼Œæˆ‘ä»¬åˆå§‹åŒ– dp[0] ä¸º trueï¼Œç„¶åå¼€å§‹éå†ã€‚æ³¨æ„è¿™é‡Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ª for å¾ªç¯æ¥éå†ï¼Œå› ä¸ºæ­¤æ—¶å·²ç»æ²¡æœ‰é€’å½’å‡½æ•°äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»è¦éå†æ‰€æœ‰çš„å­ä¸²ï¼Œæˆ‘ä»¬ç”¨jæŠŠ [0, i) èŒƒå›´å†…çš„å­ä¸²åˆ†ä¸ºäº†ä¸¤éƒ¨åˆ†ï¼Œ[0, j) å’Œ [j, i)ï¼Œå…¶ä¸­èŒƒå›´ [0, j) å°±æ˜¯ dp[j]ï¼ŒèŒƒå›´ [j, i) å°±æ˜¯ s.substr(j, i-j)ï¼Œå…¶ä¸­ dp[j] æ˜¯ä¹‹å‰çš„çŠ¶æ€ï¼Œæˆ‘ä»¬å·²ç»ç®—å‡ºæ¥äº†ï¼Œå¯ä»¥ç›´æ¥å–ï¼Œåªéœ€è¦åœ¨å­—å…¸ä¸­æŸ¥æ‰¾ s.substr(j, i-j) æ˜¯å¦å­˜åœ¨äº†ï¼Œå¦‚æœäºŒè€…å‡ä¸º trueï¼Œå°† dp[i] èµ‹ä¸º trueï¼Œå¹¶ä¸” break æ‰ï¼Œæ­¤æ—¶å°±ä¸éœ€è¦å†ç”¨jå»åˆ† [0, i) èŒƒå›´äº†ï¼Œå› ä¸º [0, i) èŒƒå›´å·²ç»å¯ä»¥æ‹†åˆ†äº†ã€‚æœ€ç»ˆæˆ‘ä»¬è¿”å› dp æ•°ç»„çš„æœ€åä¸€ä¸ªå€¼ï¼Œå°±æ˜¯æ•´ä¸ªæ•°ç»„æ˜¯å¦å¯ä»¥æ‹†åˆ†çš„å¸ƒå°”å€¼äº†ï¼Œä»£ç å¦‚ä¸‹ï¼š

Â 

è§£æ³•äºŒï¼š
    
    
    class Solution {
    public:
        bool wordBreak(string s, vector<string>& wordDict) {
            unordered_set<string> wordSet(wordDict.begin(), wordDict.end());
            vector<bool> dp(s.size() + 1);
            dp[0] = true;
            for (int i = 0; i < dp.size(); ++i) {
                for (int j = 0; j < i; ++j) {
                    if (dp[j] && wordSet.count(s.substr(j, i - j))) {
                        dp[i] = true;
                        break;
                    }
                }
            }
            return dp.back();
        }
    };

Â 

ä¸‹é¢æˆ‘ä»¬ä»é¢˜ç›®ä¸­ç»™çš„ä¾‹å­æ¥åˆ†æï¼š

lÂ 

le eÂ 

lee ee eÂ 

**leet** Â 

leetc eetc etc tc cÂ 

leetco eetco etco tco co oÂ 

leetcod eetcod etcod tcod cod od dÂ 

leetcode eetcode etcode tcode **code**

T F F F T F F F TÂ 

æˆ‘ä»¬çŸ¥é“ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯é€è¡Œæ‰«æï¼Œæ¯ä¸€è¡Œå†é€ä¸ªå­—ç¬¦æ‰«æï¼Œæ¯æ¬¡éƒ½åœ¨ç»„åˆå‡ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²éƒ½è¦åˆ°å­—å…¸é‡Œå»æ‰¾ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œåˆ™è·³è¿‡æ­¤è¡Œï¼Œç»§ç»­æ‰«æä¸‹ä¸€è¡Œã€‚

Â 

æ—¢ç„¶ DFS éƒ½å¯ä»¥è§£é¢˜ï¼Œé‚£ä¹ˆ BFS ä¹Ÿå°±åä¸ä½äº†ï¼Œä¹Ÿè¦å‡ºæ¥è¹¦è·¶ä¸€ä¸‹ã€‚å…¶å®æœ¬è´¨è·Ÿé€’å½’çš„è§£æ³•æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ï¼Œé€’å½’è§£æ³•åœ¨è°ƒç”¨é€’å½’çš„æ—¶å€™ï¼ŒåŸå…ˆçš„çŠ¶æ€è¢«å­˜å…¥äº†æ ˆä¸­ï¼Œè¿™é‡Œ BFS æ˜¯å­˜å…¥äº†é˜Ÿåˆ—ä¸­ï¼Œä½¿ç”¨ visited æ•°ç»„æ¥æ ‡è®°å·²ç»ç®—è¿‡çš„ä½ç½®ï¼Œä½œç”¨è·Ÿ memo æ•°ç»„ä¸€æ ·ï¼Œä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªä½ç½®è¿›è¡Œéå†ï¼ŒæŠŠå¯ä»¥æ‹†åˆ†çš„æ–°ä½ç½®å­˜å…¥é˜Ÿåˆ—ä¸­ï¼Œéå†å®Œæˆåæ ‡è®°å½“å‰ä½ç½®ï¼Œç„¶åå†åˆ°é˜Ÿåˆ—ä¸­å»å–å³å¯ï¼Œå‚è§ä»£ç å¦‚ä¸‹ï¼š

Â 

è§£æ³•ä¸‰ï¼š
    
    
    class Solution {
    public:
        bool wordBreak(string s, vector<string>& wordDict) {
            unordered_set<string> wordSet(wordDict.begin(), wordDict.end());
            vector<bool> visited(s.size());
            queue<int> q{{0}};
            while (!q.empty()) {
                int start = q.front(); q.pop();
                if (!visited[start]) {
                    for (int i = start + 1; i <= s.size(); ++i) {
                        if (wordSet.count(s.substr(start, i - start))) {
                            q.push(i);
                            if (i == s.size()) return true;
                        }
                    }
                    visited[start] = true;
                }
            }
            return false;
        }
    };

Â 

Github åŒæ­¥åœ°å€ï¼š

<https://github.com/grandyang/leetcode/issues/139>

Â Â 

å‚è€ƒèµ„æ–™ï¼š

<https://leetcode.com/problems/word-break/>

<https://leetcode.com/problems/word-break/discuss/43797/A-solution-using-BFS>

<https://leetcode.com/problems/word-break/discuss/43886/Evolve-from-brute-force-to-optimal-a-review-of-all-solutions>

Â 

ç±»ä¼¼é¢˜ç›®ï¼š

[Word Break II](http://www.cnblogs.com/grandyang/p/4576240.html)

Â 

[LeetCode All in One é¢˜ç›®è®²è§£æ±‡æ€»(æŒç»­æ›´æ–°ä¸­...)](http://www.cnblogs.com/grandyang/p/4606334.html)
